<!-- ======================== EARNING GROWTH EXPLAINER (Black+Gold) ======================== -->
<section id="earnings" class="earn-wrap">
  <div class="earn-container">
    <h2 class="earn-title">How Earnings Grow — From One Share to a Team</h2>
    <p class="earn-sub">एक share से team बनती है, team से income compound होती है. <span class="earn-note">Examples for education — results vary.</span></p>

    <!-- Scenario Tabs -->
    <div class="earn-tabs" role="tablist" aria-label="Growth Scenarios">
      <button class="earn-tab is-active" data-scenario="ideal" role="tab" aria-selected="true">Ideal</button>
      <button class="earn-tab" data-scenario="real" role="tab" aria-selected="false">Realistic</button>
      <button class="earn-tab" data-scenario="safe" role="tab" aria-selected="false">Conservative</button>
    </div>

    <!-- Flow Nodes + Arrows -->
    <div class="earn-flow">
      <!-- 5 levels -->
      <div class="earn-node">
        <div class="earn-bubble">
          <div class="earn-level">L1</div>
          <div class="earn-members"><span data-m="0">0</span> members</div>
          <div class="earn-commission">₹<span data-cp="0">0</span> /person</div>
          <div class="earn-amount">₹<span data-amt="0">0</span></div>
        </div>
        <div class="earn-arrow" aria-hidden="true"></div>
      </div>
      <div class="earn-node">
        <div class="earn-bubble">
          <div class="earn-level">L2</div>
          <div class="earn-members"><span data-m="1">0</span> members</div>
          <div class="earn-commission">₹<span data-cp="1">0</span> /person</div>
          <div class="earn-amount">₹<span data-amt="1">0</span></div>
        </div>
        <div class="earn-arrow" aria-hidden="true"></div>
      </div>
      <div class="earn-node">
        <div class="earn-bubble">
          <div class="earn-level">L3</div>
          <div class="earn-members"><span data-m="2">0</span> members</div>
          <div class="earn-commission">₹<span data-cp="2">0</span> /person</div>
          <div class="earn-amount">₹<span data-amt="2">0</span></div>
        </div>
        <div class="earn-arrow" aria-hidden="true"></div>
      </div>
      <div class="earn-node">
        <div class="earn-bubble">
          <div class="earn-level">L4</div>
          <div class="earn-members"><span data-m="3">0</span> members</div>
          <div class="earn-commission">₹<span data-cp="3">0</span> /person</div>
          <div class="earn-amount">₹<span data-amt="3">0</span></div>
        </div>
        <div class="earn-arrow" aria-hidden="true"></div>
      </div>
      <div class="earn-node">
        <div class="earn-bubble">
          <div class="earn-level">L5</div>
          <div class="earn-members"><span data-m="4">0</span> members</div>
          <div class="earn-commission">₹<span data-cp="4">0</span> /person</div>
          <div class="earn-amount">₹<span data-amt="4">0</span></div>
        </div>
      </div>
    </div>

    <!-- Totals -->
    <div class="earn-totals">
      <div class="earn-total-card">
        <div class="earn-total-label">Scenario Total (L1–L5)</div>
        <div class="earn-total-value">₹<span id="earnTotal">0</span></div>
      </div>
      <div class="earn-total-card">
        <div class="earn-total-label">Logic</div>
        <div class="earn-logic">
          <div>Speed = Referrals × Activation × Training</div>
          <div>Teach your L1 to teach their L1 — duplication wins.</div>
          <div>Quality conversations > spam. Consistency compounding.</div>
        </div>
      </div>
    </div>

    <!-- Story Points -->
    <div class="earn-story">
      <div class="earn-point"><b>Step 1:</b> You share with 3. They activate. <em>Commission on Level-1.</em></div>
      <div class="earn-point"><b>Step 2:</b> They share further. <em>Level-2 trickle-up adds up.</em></div>
      <div class="earn-point"><b>Step 3:</b> Team grows. <em>Small per-head × many = big totals.</em></div>
    </div>

    <p class="earn-disclaimer">Disclaimer: Ye examples demo ke liye hain. Real income plan, volume, activation, training aur market par depend karti hai.</p>
  </div>
</section>

<style>
  /* --------- Scoped styles (won't clash) --------- */
  .earn-wrap{background:radial-gradient(60% 80% at 0% 0%, rgba(245,197,66,.06), transparent 50%), #0b0b0b;padding:56px 0}
  .earn-container{max-width:1100px;margin:auto;padding:0 16px;color:#f7f7f7;font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
  .earn-title{font-size:28px;margin:0 0 6px;text-align:center;color:#f5c542;font-weight:800;letter-spacing:.3px}
  .earn-sub{margin:0 0 16px;text-align:center;color:#d9d3bf}
  .earn-sub .earn-note{opacity:.8;font-size:.95em}
  .earn-tabs{display:flex;gap:10px;justify-content:center;margin:18px 0 24px}
  .earn-tab{background:#141414;border:1px solid rgba(255,255,255,.12);color:#e9e2c6;padding:10px 14px;border-radius:999px;font-weight:700;cursor:pointer}
  .earn-tab.is-active{background:linear-gradient(135deg,#f5c542,#d4af37);color:#000;box-shadow:0 8px 30px rgba(245,197,66,.25)}
  .earn-flow{display:grid;grid-template-columns:repeat(5,1fr);gap:14px;align-items:center;margin:8px 0 16px}
  .earn-node{position:relative;display:flex;align-items:center;gap:10px}
  .earn-bubble{background:#121316;border:1px solid rgba(255,255,255,.08);border-radius:18px;padding:14px;min-height:110px;display:grid;justify-items:center;text-align:center;box-shadow:0 0 0 1px rgba(245,197,66,.08) inset}
  .earn-bubble:hover{transform:translateY(-2px) scale(1.02);transition:.25s ease;box-shadow:0 10px 30px rgba(245,197,66,.12),0 0 0 1px rgba(245,197,66,.12) inset}
  .earn-level{font-weight:900;color:#ffe08a;font-size:14px;letter-spacing:.5px}
  .earn-members{font-weight:700;color:#fff}
  .earn-commission{font-size:12px;color:#cfcfcf}
  .earn-amount{font-size:18px;font-weight:900;color:#fff}
  .earn-arrow{flex:1;height:2px;background:linear-gradient(90deg, rgba(212,175,55,.0), rgba(212,175,55,.9), rgba(212,175,55,.0));position:relative}
  .earn-arrow:after{content:"";position:absolute;right:-6px;top:-5px;border-left:8px solid #d4af37;border-top:6px solid transparent;border-bottom:6px solid transparent;filter:drop-shadow(0 0 4px rgba(212,175,55,.8))}
  .earn-totals{display:grid;grid-template-columns:2fr 3fr;gap:14px;margin:10px 0 8px}
  .earn-total-card{background:#101115;border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:16px}
  .earn-total-label{color:#e9e2c6;font-weight:700;margin-bottom:6px}
  .earn-total-value{font-size:28px;font-weight:900;color:#fff}
  .earn-logic{color:#cfcfcf;display:grid;gap:6px}
  .earn-story{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:14px}
  .earn-point{background:linear-gradient(135deg, rgba(245,197,66,.12), rgba(245,197,66,.04));border:1px solid rgba(245,197,66,.28);border-radius:14px;padding:12px;color:#ffe9b0;font-weight:700;text-align:center}
  .earn-disclaimer{text-align:center;color:#bdbdbd;margin-top:16px;font-size:12px}
  /* responsive */
  @media (max-width: 960px){ .earn-flow{grid-template-columns:1fr 1fr;row-gap:16px} .earn-arrow{display:none} .earn-totals{grid-template-columns:1fr} .earn-story{grid-template-columns:1fr} }
  @media (max-width: 520px){ .earn-flow{grid-template-columns:1fr} }
</style>

<script>
  // ---------- Config: Per-level commission (₹) ----------
  const COMMISSIONS = [500, 200, 100, 50, 25]; // L1..L5

  // ---------- Scenarios: members per level ----------
  // We'll compute members from (R * A) ^ level and round smartly.
  const scenarios = {
    ideal:   { label: "Ideal",   R: 3, A: 1.0 },   // 100% activation
    real:    { label: "Real",    R: 3, A: 0.6 },   // 60% activation
    safe:    { label: "Safe",    R: 2, A: 0.5 },   // 50% activation
  };

  function calcMembersArray({R, A}) {
    const factor = R * A;
    const arr = [];
    for (let i = 0; i < 5; i++){
      const raw = Math.pow(factor, i+1); // L1..L5
      // Nice rounding for display
      let m = Math.round(raw);
      if (m < 1) m = (raw > 0 ? 1 : 0);
      arr.push(m);
    }
    return arr;
  }

  // -------- CountUp util --------
  function animateCount(el, to, duration=800){
    const from = parseInt(el.textContent.replace(/[^\d]/g,'')) || 0;
    const start = performance.now();
    function frame(now){
      const p = Math.min(1, (now - start)/duration);
      const val = Math.floor(from + (to - from)*p);
      el.textContent = val.toLocaleString('en-IN');
      if (p < 1) requestAnimationFrame(frame);
    }
    requestAnimationFrame(frame);
  }

  // -------- Render scenario --------
  function renderScenario(key){
    const s = scenarios[key];
    // Tabs state
    document.querySelectorAll('.earn-tab').forEach(t=>{
      t.classList.toggle('is-active', t.dataset.scenario === key);
      t.setAttribute('aria-selected', t.dataset.scenario === key ? 'true' : 'false');
    });

    const members = calcMembersArray(s);

    // Update per-level
    members.forEach((m, i)=>{
      const cp = COMMISSIONS[i];             // commission/person this level
      const levelAmt = m * cp;               // level earning
      // DOM elements
      const mEl = document.querySelector(`.earn-members span[data-m="${i}"]`);
      const cpEl = document.querySelector(`.earn-commission span[data-cp="${i}"]`);
      const amtEl = document.querySelector(`.earn-amount span[data-amt="${i}"]`);

      // animate
      animateCount(mEl, m);
      animateCount(cpEl, cp);
      animateCount(amtEl, levelAmt);
    });

    // Update total
    const total = members.reduce((sum, m, i)=> sum + m * COMMISSIONS[i], 0);
    animateCount(document.getElementById('earnTotal'), total, 900);

    // Subtle pulse on bubbles to feel alive
    document.querySelectorAll('.earn-bubble').forEach((b,i)=>{
      b.style.animation = 'none';
      b.offsetHeight; // reflow
      b.style.animation = `earnPulse .9s ease ${i*0.05}s`;
    });
  }

  // Keyframes (injected once)
  (function injectPulse(){
    const css = `
      @keyframes earnPulse {
        0% { box-shadow: 0 0 0 1px rgba(245,197,66,.12) inset, 0 0 0 rgba(0,0,0,0); transform: translateY(0) scale(1); }
        40% { box-shadow: 0 0 0 1px rgba(245,197,66,.25) inset, 0 10px 24px rgba(245,197,66,.10); transform: translateY(-2px) scale(1.02); }
        100% { box-shadow: 0 0 0 1px rgba(245,197,66,.12) inset, 0 0 0 rgba(0,0,0,0); transform: translateY(0) scale(1); }
      }
    `;
    const style = document.createElement('style');
    style.innerHTML = css;
    document.head.appendChild(style);
  })();

  // Tab events
  document.addEventListener('click', (e)=>{
    const btn = e.target.closest('.earn-tab');
    if (!btn) return;
    renderScenario(btn.dataset.scenario);
  });

  // Init default
  renderScenario('ideal');
</script>
<!-- ====================== /EARNING GROWTH EXPLAINER ====================== --
